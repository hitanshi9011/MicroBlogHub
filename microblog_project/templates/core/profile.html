{% extends 'base.html' %}

{% block title %}Profile | {{ profile_user.username }}{% endblock %}

{% block content %}

<h2>{{ profile_user.username }}</h2>

<p>
  Posts: {{ posts.count }} |
  Followers: {{ followers_count }} |
  Following: {{ following_count }}
</p>

{% if user.is_authenticated and user != profile_user %}
  {% if is_following %}
    <a href="{% url 'unfollow' profile_user.id %}">Unfollow</a>
  {% else %}
    <a href="{% url 'follow' profile_user.id %}">Follow</a>
  {% endif %}
{% endif %}

<hr>

<h3>User Posts</h3>

{% for post in posts %}
  <div style="border-bottom:1px solid #ccc; margin-bottom:10px;">
    <p>{{ post.content }}</p>
    <small>{{ post.created_at|timesince }} ago</small>
  </div>
{% empty %}
  <p>No posts yet.</p>
{% endfor %}

{% endblock %}
